{"version":3,"sources":["utils/init.js","assets/icons/twitter.svg","assets/icons/facebook.svg","assets/icons/linkedin.svg","assets/icons/email.svg","assets/icons/link.svg","components/nav/Nav.js","components/earth/variable-selection/VariableSelection.js","redux/actions.js","components/earth/count/Count.js","components/earth/data-descriptions/DataDescriptions.js","components/earth/Earth.js","components/left/Left.js","components/right/title/Title.js","components/right/scroll-timeline/ScrollTimeline.js","components/right/footnotes/Footnotes.js","components/right/Right.js","App.js","redux/reducer.js","index.js"],"names":["getMonthArray","range","reference","month","name","days","start","split","end","monthArray","checkIfLeapYear","year","forEach","el","index","currentYear","currentMonth","daysCounted","push","lastMonth","initializeCanvas","counties","usTopo","worldTopo","cases","options","updateLegend","countyIndex","schemaMapper","caseIndex","wrapperBBox","document","getElementById","getBoundingClientRect","renderer","THREE","antialias","powerPreference","scene","convertToVertex","long","lat","r","lambda","Math","PI","phi","cos","sin","draw","map","material","geometries","Array","length","originalGeometry","currentIndex","county","geometry","clone","positions","slice","coordinate","setAttribute","computeBoundingSphere","mergedGeometry","BufferGeometryUtils","mergeBufferGeometries","mergedLines","add","world","topojson","us","coordinates","color","sphereGeometry","sphereMaterial","sphereMesh","originalCylinderGeometry","getMergedGeometry","date","cylinderGeometries","data","caseData","dataIndex","variable","normalize","logScale","currentCaseIndex","cylinderGeometry","cylinderHeight","fips","translate","scale","rotateX","atan","z","y","rotateZ","x","state","population","mergedCaseGeometries","mergedDeathGeometries","processedDates","baseCaseGeometries","baseDeathGeometries","key","baseCaseGeometry","baseDeathGeometry","ind","caseAttribute","getAttribute","morphAttributes","position","deathAttribute","cylinderMaterial","flatShading","transparent","opacity","morphTargets","cylinderMesh","camera","width","height","orbitControls","OrbitControls","domElement","update","target","set","enableDamping","dampingFactor","zoomSpeed","maxPolarAngle","minPolarAngle","maxAzimuthAngle","minAzimuthAngle","maxDistance","minDistance","ambientLight","directionalLight","setSize","setPixelRatio","window","devicePixelRatio","setClearColor","render","animate","requestAnimationFrame","_extends","Object","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","className","d","_ref","svgRef","title","props","viewBox","ref","undefined","style","fill","strokeWidth","stroke","ForwardRef","forwardRef","url","content","Nav","showShareWrap","copyMessageRef","React","createRef","toggleShareWrap","bind","shareWrapKeyboardListener","textEl","value","body","appendChild","select","setSelectionRange","execCommand","removeChild","current","setTimeout","to","setState","getElementsByClassName","pointerEvents","addEventListener","overflow","gsap","duration","ease","fromTo","removeEventListener","e","href","onClick","tabIndex","rel","copy","Component","VariableSelection","updateOptions","connect","dispatch","easing","type","Count","nationalData","toLocaleString","DataDescriptions","Earth","id","svg","src","prod","dev","alt","Left","scaleX","cylinders","head","des","Title","stagger","delay","word","messages","text","l","s","ScrollTimeline","currentDate","prevProps","prevDate","prevMonthArray","oldloading","loading","vh","innerHeight","scaleY","onComplete","loader","parentNode","ScrollTrigger","create","animation","timeline","scrub","callback","entries","observer","entry","isIntersecting","dataset","moveToDate","observerL","IntersectionObserver","rootMargin","observerS","innerWidth","querySelectorAll","observe","createTriggers","screen","scrollerPos","prevKey","messageKey","trigger","endTrigger","matchMedia","dateArray","find","resizeTimer","resize","unobserve","resizeListener","clearTimeout","monthIndex","_","dateIndex","monthString","dateString","dateRep","data-date","Footnotes","note","span","Right","registerPlugin","styles","App","countyData","three","transformResponse","JSON","parse","replace","a","Promise","all","axios","get","append","fontSize","getComputedStyle","getPropertyValue","baseGeometries","scrollerTopPos","scrollerCenterPos","pin","morphTargetInfluences","0","onLeave","dispose","onEnterBack","aspect","updateProjectionMatrix","onresize","scrollTo","oldVariable","oldNormalize","oldLogScale","oldPlaybackSpeed","playbackSpeed","cylinderIndex","globalStyles","initialOptions","initialPlayback","playing","speed","app","combineReducers","action","playback","store","createStore","reducer","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM"],"mappings":"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","file":"static/js/main.30e130f5.chunk.js","sourcesContent":["import * as THREE from 'three';\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\nimport { BufferGeometryUtils } from 'three/examples/jsm/utils/BufferGeometryUtils.js';\n\nimport * as topojson from \"topojson-client\";\n\nexport function getMonthArray(range) {\n  const reference = [\n    { month: 1, name: 'Jan', days: 31 },\n    { month: 2, name: 'Feb', days: 28 },\n    { month: 3, name: 'Mar', days: 31 },\n    { month: 4, name: 'Apr', days: 30 },\n    { month: 5, name: 'May', days: 31 },\n    { month: 6, name: 'Jun', days: 30 },\n    { month: 7, name: 'Jul', days: 31 },\n    { month: 8, name: 'Aug', days: 31 },\n    { month: 9, name: 'Sep', days: 30 },\n    { month: 10, name: 'Oct', days: 31 },\n    { month: 11, name: 'Nov', days: 30 },\n    { month: 12, name: 'Dec', days: 31 }\n  ]\n  const start = range.start.split('-')\n  const end = range.end.split('-')\n  const monthArray = []\n  start.forEach((el, index) => start[index] = +el)\n  end.forEach((el, index) => end[index] = +el)\n\n  function checkIfLeapYear(year) {\n    return (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)\n  }\n\n  let currentYear = start[0]\n  let currentMonth = start[1]\n  while (currentYear !== end[0] || currentMonth !== end[1]) {\n    const month = reference[currentMonth - 1]\n    if (checkIfLeapYear(currentYear) && currentMonth === 2) {\n      month.days = 29\n    }\n    month.year = currentYear\n    month.daysCounted = month.days\n    monthArray.push(month)\n    if (currentMonth !== 12) {\n      currentMonth += 1\n    } else {\n      currentMonth = 1\n      currentYear += 1\n    }\n  }\n\n  // Rewrite first month\n  monthArray[0].daysCounted = monthArray[0].days - start[2] + 1\n\n  // Add last month\n  const lastMonth = reference[end[1] - 1]\n  if (checkIfLeapYear(end[0]) && end[1] === 2) {\n    lastMonth.days = 29\n  }\n  lastMonth.year = end[0]\n  lastMonth.daysCounted = end[2]\n  monthArray.push(lastMonth)\n  return monthArray\n}\n\nexport function getCursorXOffset(date, monthArray, startOffset = 1.6, monthWidth = 10) {\n  const dateArray = date.split('-')\n  dateArray.forEach((el, index) => dateArray[index] = +el)\n\n  let offset = startOffset\n\n  for (let i = 0; monthArray[i].year !== dateArray[0] || monthArray[i].month !== dateArray[1]; i++) {\n    offset += monthWidth * (monthArray[i].daysCounted / monthArray[i].days)\n  }\n  offset += monthWidth * (dateArray[2] / monthArray[monthArray.length - 1].days)\n\n  return offset\n}\n\nexport function getNextDate(currentDate, monthArray, stepSize) {\n  const dateArray = currentDate.split('-')\n  dateArray.forEach((el, index) => dateArray[index] = +el)\n\n  const currentMonthIndex = monthArray.findIndex(month => {\n    return month.year === dateArray[0] && month.month === dateArray[1]\n  })\n\n  if (dateArray[2] + stepSize > monthArray[currentMonthIndex].days) {\n    const nextDate = dateArray[2] + stepSize - monthArray[currentMonthIndex].days\n    if (currentMonthIndex === monthArray.length - 1) {\n      return [false, currentDate]\n    }\n    if (nextDate > monthArray[currentMonthIndex + 1].daysCounted) {\n      return [false, currentDate]\n    }\n    dateArray[0] = monthArray[currentMonthIndex + 1].year\n    dateArray[1] = monthArray[currentMonthIndex + 1].month\n    dateArray[2] = nextDate\n  } else {\n    const nextDate = dateArray[2] + stepSize\n    if (nextDate > monthArray[currentMonthIndex].daysCounted && currentMonthIndex !== 0) {\n      return [false, currentDate]\n    }\n    dateArray[0] = monthArray[currentMonthIndex].year\n    dateArray[1] = monthArray[currentMonthIndex].month\n    dateArray[2] = nextDate\n  }\n\n  const monthString = dateArray[1] > 9 ? dateArray[1]: `0${dateArray[1]}`\n  const dateString = dateArray[2] > 9 ? dateArray[2]: `0${dateArray[2]}`\n  return [true, `${dateArray[0]}-${monthString}-${dateString}`]\n}\n\nexport function getRemainingDays(currentDate, monthArray) {\n  const dateArray = currentDate.split('-')\n  dateArray.forEach((el, index) => dateArray[index] = +el)\n\n  const currentMonthIndex = monthArray.findIndex(month => {\n    return month.year === dateArray[0] && month.month === dateArray[1]\n  })\n\n  if (currentMonthIndex === monthArray.length - 1) {\n    return monthArray[currentMonthIndex].daysCounted - dateArray[2]\n  } else {\n    return monthArray[currentMonthIndex].days - dateArray[2] + monthArray[currentMonthIndex + 1].daysCounted\n  }\n}\n\nexport function initializeCanvas(counties, usTopo, worldTopo, cases, monthArray, options, updateLegend) {\n  const countyIndex = counties.schemaMapper\n  const caseIndex = cases.schemaMapper\n\n  const wrapperBBox = document.getElementById('earth-canvas-wrapper').getBoundingClientRect()\n\n  const renderer = new THREE.WebGLRenderer({ antialias: true, powerPreference: 'high-performance' })\n  const scene = new THREE.Scene()\n\n  // WORLD WIREFRAMES\n  function convertToVertex(long, lat, r) {\n    const lambda = long * Math.PI / 180;\n    const phi = lat * Math.PI / 180;\n    return [\n      r * Math.cos(phi) * Math.cos(lambda),\n      r * Math.sin(phi),\n      - r * Math.cos(phi) * Math.sin(lambda)\n    ];\n  }\n  function draw(map, material) {\n    const geometries = new Array(map.length)\n    const originalGeometry = new THREE.BufferGeometry();\n    let currentIndex = 0\n    for (const county of map) {\n      const geometry = originalGeometry.clone()\n      const positions = []\n      positions.push(...convertToVertex(county[0][0], county[0][1], 100))\n      for (const coordinate of county.slice(1)) {\n        positions.push(...convertToVertex(coordinate[0], coordinate[1], 100))\n        positions.push(...convertToVertex(coordinate[0], coordinate[1], 100))\n      }\n      positions.push(...convertToVertex(county[county.length - 1][0], county[county.length - 1][1], 100))\n      geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3))\n      geometry.computeBoundingSphere()\n      geometries[currentIndex] = geometry\n      currentIndex += 1\n    }\n    const mergedGeometry = BufferGeometryUtils.mergeBufferGeometries(geometries)\n    const mergedLines = new THREE.LineSegments(mergedGeometry, material)\n    scene.add(mergedLines);\n  }\n  const world = topojson.mesh(worldTopo);\n  const us = topojson.mesh(usTopo);\n  draw(\n    world.coordinates,\n    new THREE.LineBasicMaterial({color: '#CCC'})\n  );\n  draw(\n    us.coordinates,\n    new THREE.LineBasicMaterial({color: '#BBB'})\n  );\n\n  // GLOBE\n  const sphereGeometry = new THREE.SphereBufferGeometry(100, 48, 48)\n  const sphereMaterial  = new THREE.MeshBasicMaterial({color: '#FFFFFF'})\n  const sphereMesh = new THREE.Mesh( sphereGeometry, sphereMaterial )\n  scene.add(sphereMesh)\n\n  // MAIN GRAPH\n  const originalCylinderGeometry = new THREE.CylinderBufferGeometry(0.2, 0.2, 1, 8)\n\n  function getMergedGeometry(counties, cases, options, date) {\n    const cylinderGeometries = new Array(counties.data.length)\n    const caseData = cases.data[date]\n    const dataIndex = cases.schemaMapper[`${options.variable}${options.normalize ? 'Normalized' : ''}${options.logScale ? 'Log' : ''}`]\n    let currentCaseIndex = 0\n\n    counties.data.forEach((county, index) => {\n      const cylinderGeometry = originalCylinderGeometry.clone()\n      let cylinderHeight = 0\n      if (caseData[currentCaseIndex] && caseData[currentCaseIndex][caseIndex.fips] === county[countyIndex.fips]) {\n        cylinderHeight = caseData[currentCaseIndex][dataIndex]\n        currentCaseIndex += 1\n      }\n      cylinderGeometry.translate(\n        0,\n        0.5,\n        0\n      )\n      cylinderGeometry.scale(1, cylinderHeight, 1)\n      cylinderGeometry.rotateX(Math.atan(county[countyIndex.z]/county[countyIndex.y]))\n      cylinderGeometry.rotateZ(Math.atan(-county[countyIndex.x]/county[countyIndex.y]))\n      cylinderGeometry.translate(\n        county[countyIndex.x]*0.99,\n        county[countyIndex.y]*0.99,\n        county[countyIndex.z]*0.99\n      )\n      cylinderGeometry.county = {\n        fips: county[countyIndex.fips],\n        name: county[countyIndex.county],\n        state: county[countyIndex.state],\n        population: county[countyIndex.population],\n      }\n\n      cylinderGeometries[index] = cylinderGeometry\n    })\n    const mergedGeometry = BufferGeometryUtils.mergeBufferGeometries(cylinderGeometries, false);\n    return mergedGeometry\n  }\n\n  const mergedCaseGeometries = {}\n  const mergedDeathGeometries = {}\n  const processedDates = []\n\n  for (const date in cases.data) {\n    mergedCaseGeometries[date] = getMergedGeometry(\n      counties,\n      cases,\n      {\n        ...options,\n        variable: 'cases'\n      },\n      date\n    )\n    mergedDeathGeometries[date] = getMergedGeometry(\n      counties,\n      cases,\n      {\n        ...options,\n        variable: 'deaths'\n      },\n      date\n    )\n    processedDates.push(date);\n  }\n\n  const baseCaseGeometries = []\n  const baseDeathGeometries = []\n  for (let index in processedDates) {\n    const key = processedDates[+index]\n    const baseCaseGeometry = mergedCaseGeometries[key]\n    const baseDeathGeometry = mergedDeathGeometries[key]\n    baseCaseGeometry.key = key\n    baseDeathGeometry.key = key\n    baseCaseGeometry.ind = +index\n    baseDeathGeometry.ind = +index\n\n    if (+index !== processedDates.length - 1) {\n      const caseAttribute = mergedCaseGeometries[processedDates[+index + 1]].getAttribute('position')\n      caseAttribute.name = `${processedDates[+index + 1]}`\n      baseCaseGeometry.morphAttributes.position = [caseAttribute]\n\n      const deathAttribute = mergedDeathGeometries[processedDates[+index + 1]].getAttribute('position')\n      deathAttribute.name = `${processedDates[+index + 1]}`\n      baseDeathGeometry.morphAttributes.position = [deathAttribute]\n    }\n\n    baseCaseGeometries.push(baseCaseGeometry)\n    baseDeathGeometries.push(baseDeathGeometry)\n  }\n\n  const cylinderMaterial = new THREE.MeshPhongMaterial({\n    color: options.variable === 'cases' ? '#D5DD3C' : '#DD3CD5',\n    flatShading: true,\n    transparent: true,\n    opacity: 0.8,\n    morphTargets: true,\n  })\n  const cylinderMesh = new THREE.Mesh(baseCaseGeometries[0], cylinderMaterial)\n  scene.add(cylinderMesh)\n\n  // CAMERA\n  const camera = new THREE.PerspectiveCamera(75, wrapperBBox.width/wrapperBBox.height, 0.1, 300)\n\n  // ORBIT CONTROLS\n  const orbitControls = new OrbitControls(camera, renderer.domElement)\n  orbitControls.update()\n  orbitControls.target.set(0, 0, 0)\n  orbitControls.enableDamping = true\n  orbitControls.dampingFactor = 0.1\n  orbitControls.zoomSpeed = 0.3\n  orbitControls.maxPolarAngle = Math.PI/1.1\n  orbitControls.minPolarAngle = 0.1\n  orbitControls.maxAzimuthAngle = Math.PI / 2.1\n  orbitControls.minAzimuthAngle = -Math.PI / 2.1\n  orbitControls.maxDistance = 360\n  orbitControls.minDistance = 120\n\n  // LIGHTS\n  const ambientLight = new THREE.AmbientLight('#FFFFFF', 0.8)\n  const directionalLight = new THREE.DirectionalLight('#FFFFFF', 0.2)\n  directionalLight.position.set(0, 0, 60)\n  scene.add(ambientLight)\n  scene.add(directionalLight)\n\n  // RENDER\n  renderer.setSize(wrapperBBox.width, wrapperBBox.height)\n  renderer.setPixelRatio(window.devicePixelRatio)\n  renderer.setClearColor('#F8F7F7', 1)\n  renderer.render(scene, camera)\n\n  // ANIMATE\n  function render() {\n    orbitControls.update()\n    renderer.render(scene, camera)\n  }\n  function animate() {\n    render()\n    requestAnimationFrame(animate)\n  }\n  animate()\n\n  return {\n    camera,\n    orbitControls,\n    cylinderMesh,\n    baseCaseGeometries,\n    baseDeathGeometries,\n    renderer,\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Twitter\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"to-fill\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4 0L32.6 0C38 0 39.9 0.6 41.9 1.6 43.8 2.6 45.4 4.2 46.4 6.1 47.4 8.1 48 10 48 15.4L48 32.6C48 38 47.4 39.9 46.4 41.9 45.4 43.8 43.8 45.4 41.9 46.4 39.9 47.4 38 48 32.6 48L15.4 48C10 48 8.1 47.4 6.1 46.4 4.2 45.4 2.6 43.8 1.6 41.9 0.6 39.9 0 38 0 32.6L0 15.4C0 10 0.6 8.1 1.6 6.1 2.6 4.2 4.2 2.6 6.1 1.6 8.1 0.6 10 0 15.4 0ZM19.2 38C30.8 38 37.2 28.4 37.2 20 37.2 19.8 37.2 19.5 37.2 19.2 38.4 18.3 39.5 17.2 40.3 16 39.2 16.4 38 16.8 36.7 16.9 38 16.2 39 14.9 39.5 13.5 38.3 14.2 36.9 14.7 35.5 15 34.3 13.8 32.7 13 30.9 13 27.4 13 24.6 15.8 24.6 19.3 24.6 19.8 24.6 20.3 24.7 20.7 19.5 20.5 14.8 18 11.7 14.2 11.2 15.1 10.9 16.2 10.9 17.3 10.9 19.5 12 21.4 13.7 22.6 12.7 22.5 11.7 22.2 10.8 21.8L10.8 21.8C10.8 24.9 13 27.4 15.9 28 15.4 28.2 14.8 28.3 14.2 28.3 13.8 28.3 13.4 28.2 13.1 28.1 13.9 30.6 16.2 32.5 18.9 32.5 16.8 34.2 14.1 35.2 11.1 35.2 10.6 35.2 10.1 35.2 9.6 35.1 12.4 36.9 15.7 38 19.2 38L19.2 38Z\"\n}));\n\nvar SvgTwitter = function SvgTwitter(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      strokeWidth: 1,\n      stroke: \"none\"\n    }\n  }, _ref3));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgTwitter, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/twitter.66347136.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Facebook\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"to-fill\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4 0L32.6 0C38 0 39.9 0.6 41.9 1.6 43.8 2.6 45.4 4.2 46.4 6.1 47.4 8.1 48 10 48 15.4L48 32.6C48 38 47.4 39.9 46.4 41.9 45.4 43.8 43.8 45.4 41.9 46.4 39.9 47.4 38 48 32.6 48L15.4 48C10 48 8.1 47.4 6.1 46.4 4.2 45.4 2.6 43.8 1.6 41.9 0.6 39.9 0 38 0 32.6L0 15.4C0 10 0.6 8.1 1.6 6.1 2.6 4.2 4.2 2.6 6.1 1.6 8.1 0.6 10 0 15.4 0ZM38.7 23.9L31.9 23.9 31.9 19.3C31.9 17.4 32.8 15.5 35.9 15.5L39 15.5 39 9.5C39 9.5 36.1 9 33.5 9 27.9 9 24.2 12.4 24.2 18.5L24.2 23.9 18 23.9 18 31 24.2 31 24.2 48C25.4 48 30.5 48 31.9 48L31.9 31 37.6 31 38.7 23.9Z\"\n}));\n\nvar SvgFacebook = function SvgFacebook(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      strokeWidth: 1,\n      stroke: \"none\"\n    }\n  }, _ref3));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgFacebook, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/facebook.5bd286b4.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Linkedin\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"to-fill\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4 0L32.6 0C38 0 39.9 0.6 41.9 1.6 43.8 2.6 45.4 4.2 46.4 6.1 47.4 8.1 48 10 48 15.4L48 32.6C48 38 47.4 39.9 46.4 41.9 45.4 43.8 43.8 45.4 41.9 46.4 39.9 47.4 38 48 32.6 48L15.4 48C10 48 8.1 47.4 6.1 46.4 4.2 45.4 2.6 43.8 1.6 41.9 0.6 39.9 0 38 0 32.6L0 15.4C0 10 0.6 8.1 1.6 6.1 2.6 4.2 4.2 2.6 6.1 1.6 8.1 0.6 10 0 15.4 0ZM16.3 36.9L16.3 18.2 10.1 18.2 10.1 36.9 16.3 36.9ZM38.9 36.9L38.9 26.2C38.9 20.4 35.8 17.7 31.6 17.7 28.3 17.7 26.8 19.5 26 20.8L26 18.2 19.7 18.2C19.8 19.9 19.7 36.9 19.7 36.9L26 36.9 26 26.4C26 25.9 26 25.3 26.2 24.9 26.6 23.8 27.7 22.6 29.4 22.6 31.7 22.6 32.6 24.4 32.6 26.9L32.6 36.9 38.9 36.9 38.9 36.9ZM13.2 9.1C11 9.1 9.6 10.5 9.6 12.4 9.6 14.3 11 15.8 13.1 15.8L13.2 15.8C15.4 15.8 16.8 14.3 16.8 12.4 16.8 10.5 15.4 9.1 13.2 9.1L13.2 9.1Z\"\n}));\n\nvar SvgLinkedin = function SvgLinkedin(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      strokeWidth: 1,\n      stroke: \"none\"\n    }\n  }, _ref3));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLinkedin, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/linkedin.a85a3b3b.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Email\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"to-fill\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M32.6 0C38 0 39.9 0.6 41.9 1.6 43.8 2.6 45.4 4.2 46.4 6.1 47.4 8.1 48 10 48 15.4L48 32.6C48 38 47.4 39.9 46.4 41.9 45.4 43.8 43.8 45.4 41.9 46.4 39.9 47.4 38 48 32.6 48L15.4 48C10 48 8.1 47.4 6.1 46.4 4.2 45.4 2.6 43.8 1.6 41.9 0.6 39.9 0 38 0 32.6L0 15.4C0 10 0.6 8.1 1.6 6.1 2.6 4.2 4.2 2.6 6.1 1.6 8.1 0.6 10 0 15.4 0L32.6 0ZM37 20C37 20 26.7 28.3 24.5 28.3 22.5 28.3 12 20 12 20L12 20 12 32.9C12 34 12.9 35 14.1 35L14.1 35 34.9 35C36.1 35 37 34 37 32.9L37 32.9ZM34.9 14L14.1 14C12.9 14 12 15 12 16.2L12 16.2 12 17.2C12 17.2 22.5 26 24.5 26 26.6 26 37 17.3 37 17.3L37 17.3 37 16.2C37 15 36.1 14 34.9 14L34.9 14Z\"\n}));\n\nvar SvgEmail = function SvgEmail(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      strokeWidth: 1,\n      stroke: \"none\"\n    }\n  }, _ref3));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEmail, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/email.d00bff37.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Link\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  className: \"to-fill\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.4 0L32.6 0C38 0 39.9 0.6 41.9 1.6 43.8 2.6 45.4 4.2 46.4 6.1 47.4 8.1 48 10 48 15.4L48 32.6C48 38 47.4 39.9 46.4 41.9 45.4 43.8 43.8 45.4 41.9 46.4 39.9 47.4 38 48 32.6 48L15.4 48C10 48 8.1 47.4 6.1 46.4 4.2 45.4 2.6 43.8 1.6 41.9 0.6 39.9 0 38 0 32.6L0 15.4C0 10 0.6 8.1 1.6 6.1 2.6 4.2 4.2 2.6 6.1 1.6 8.1 0.6 10 0 15.4 0ZM20.8 31.5L19.4 32.8C18.3 34 16.4 34 15.2 32.8 14.7 32.2 14.3 31.5 14.3 30.7 14.3 29.9 14.7 29.2 15.2 28.6L20.2 23.7C21.2 22.7 23.1 21.2 24.5 22.6 25.2 23.2 26.2 23.2 26.9 22.6 27.5 21.9 27.5 20.9 26.9 20.2 24.5 17.9 20.9 18.3 17.8 21.4L12.9 26.3C11.7 27.5 11 29 11 30.7 11 32.4 11.7 34 12.9 35.1 14.1 36.4 15.7 37 17.3 37 18.9 37 20.5 36.4 21.8 35.1L23.1 33.8C23.8 33.2 23.8 32.1 23.1 31.5 22.5 30.8 21.4 30.8 20.8 31.5ZM35.1 13C32.5 10.5 28.9 10.4 26.6 12.7L24.9 14.3C24.2 15 24.2 16 24.9 16.6 25.5 17.3 26.6 17.3 27.2 16.6L28.9 15C30.1 13.8 31.7 14.3 32.8 15.3 33.3 15.9 33.7 16.6 33.7 17.4 33.7 18.1 33.3 18.9 32.8 19.4L27.5 24.6C25.1 26.9 23.9 25.8 23.5 25.4 22.8 24.7 21.8 24.7 21.1 25.4 20.5 26 20.5 27 21.1 27.7 22.2 28.7 23.5 29.3 24.8 29.3 26.5 29.3 28.2 28.5 29.8 26.9L35.1 21.7C36.3 20.6 37 19 37 17.4 37 15.7 36.3 14.2 35.1 13Z\"\n}));\n\nvar SvgLink = function SvgLink(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 48,\n    height: 48,\n    viewBox: \"0 0 48 48\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      fill: \"none\",\n      strokeWidth: 1,\n      stroke: \"none\"\n    }\n  }, _ref3));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLink, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/link.ff96f4fa.svg\";\nexport { ForwardRef as ReactComponent };","import React, { Component } from 'react';\nimport gsap from 'gsap';\n\nimport { ReactComponent as TwitterIcon } from '../../assets/icons/twitter.svg';\nimport { ReactComponent as FacebookIcon } from '../../assets/icons/facebook.svg';\nimport { ReactComponent as LinkedInIcon } from '../../assets/icons/linkedin.svg';\nimport { ReactComponent as EmailIcon } from '../../assets/icons/email.svg';\nimport { ReactComponent as LinkIcon } from '../../assets/icons/link.svg';\n\nimport './Nav.css';\n\nconst url = 'https://chronicle.vuluong.me';\nconst content = {\n  head: \"How the coronavirus took hold of the United States\",\n  des: \"A look back at the unprecedented growth of the coronavirus pandemic.\"\n}\n\nclass Nav extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      showShareWrap: false,\n    }\n    this.copyMessageRef = React.createRef();\n    this.toggleShareWrap = this.toggleShareWrap.bind(this)\n    this.shareWrapKeyboardListener = this.shareWrapKeyboardListener.bind(this)\n  }\n\n  copy(url) {\n    const textEl = document.createElement('textarea')\n    textEl.value = url\n    document.body.appendChild(textEl)\n\n    textEl.select()\n    textEl.setSelectionRange(0, 99999)\n    document.execCommand(\"copy\")\n\n    document.body.removeChild(textEl)\n\n    this.copyMessageRef.current.style.opacity = 1\n    setTimeout(() => {\n      this.copyMessageRef.current.style.opacity = 0\n    }, 1000)\n  }\n\n  toggleShareWrap(to) {\n    if (to) {\n      this.setState({\n        showShareWrap: to\n      }, () => {\n        document.getElementsByClassName('nav-share-outer-wrap')[0].style.pointerEvents = 'all'\n        document.addEventListener('keydown', this.shareWrapKeyboardListener)\n        document.body.style.overflow = 'hidden'\n        gsap.to('.nav-share-wrap-background', {\n          duration: 0.6,\n          ease: 'power2.out',\n          opacity: 0.32\n        })\n        gsap.fromTo('.nav-share-content-wrap',\n        {\n          y: '+=160'\n        },\n        {\n          duration: 0.8,\n          ease: 'expo.out',\n          opacity: 1,\n          y: '0'\n        })\n      })\n    } else {\n      this.setState({\n        showShareWrap: to\n      }, () => {\n        document.getElementsByClassName('nav-share-outer-wrap')[0].style.pointerEvents = 'none'\n        document.removeEventListener('keydown', this.shareWrapKeyboardListener)\n        document.body.style.overflow = 'initial'\n        gsap.to('.nav-share-wrap-background', {\n          duration: 0.4,\n          ease: 'power2.out',\n          opacity: 0\n        })\n        gsap.fromTo('.nav-share-content-wrap',\n        {\n          y: '0'\n        },\n        {\n          duration: 0.6,\n          ease: 'expo.out',\n          opacity: 0,\n          y: '+=160'\n        })\n      })\n    }\n  }\n\n  shareWrapKeyboardListener(e) {\n    if (e.key === 'Escape') {\n      this.toggleShareWrap()\n    }\n  }\n\n  render() {\n    const { showShareWrap } = this.state\n\n    return (\n      <nav className=\"nav-wrap\">\n        <div className=\"nav-inner-wrap\">\n          <a className=\"nav-app-name\" href=\"/\">Chronicle</a>\n          <div className=\"nav-buttons\">\n            <button\n              className=\"nav-button\"\n              onClick={() => this.toggleShareWrap(true)}\n            >\n              Share\n            </button>\n          </div>\n        </div>\n        <div className=\"nav-share-outer-wrap\">\n          <div\n            className=\"nav-share-wrap-background\"\n            onClick={() => this.toggleShareWrap(false)}\n          />\n          <dialog className=\"nav-share-content-wrap\">\n            <h3 className=\"nav-share-head\">Share</h3>\n            <div className=\"nav-share-wrap\">\n              <a\n                className=\"nav-share-button\"\n                href={`http://twitter.com/share?url=${url}&text=${content.head}`}\n                tabIndex={showShareWrap ? 0 : -1}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <TwitterIcon />\n              </a>\n              <a\n                className=\"nav-share-button\"\n                href={`https://www.facebook.com/sharer/sharer.php?u=${url}`}\n                tabIndex={showShareWrap ? 0 : -1}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <FacebookIcon />\n              </a>\n              <a\n                className=\"nav-share-button\"\n                href={`https://www.linkedin.com/sharing/share-offsite?url=${url}`}\n                tabIndex={showShareWrap ? 0 : -1}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <LinkedInIcon />\n              </a>\n              <a\n                className=\"nav-share-button\"\n                href={`mailto:?subject=${content.head}&body=${url}`}\n                tabIndex={showShareWrap ? 0 : -1}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                <EmailIcon />\n              </a>\n              <button\n                className=\"nav-share-button\"\n                onClick={() => this.copy(url)}\n                tabIndex={showShareWrap ? 0 : -1}\n              >\n                <LinkIcon />\n                <p className=\"copy-message hidden\" ref={this.copyMessageRef}>URL copied to clipboard</p>\n              </button>\n            </div>\n            <button\n              className=\"nav-share-close-wrap no-padding\"\n              onClick={() => this.toggleShareWrap(false)}\n            >\n              <div className=\"nav-share-close-line first\" />\n              <div className=\"nav-share-close-line second\" />\n            </button>\n          </dialog>\n        </div>\n      </nav>\n    );\n  }\n}\n\nexport default Nav;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './VariableSelection.css';\n\nimport { updateOptions } from '../../../redux/actions'\n\nclass VariableSelection extends Component {\n  render() {\n    const { options, updateOptions } = this.props;\n    return (\n      <div className=\"variable-selection-wrap\">\n        <div className=\"variable-selection-inner-wrap themed\">\n          <button\n            className={`variable-option ${options.variable === 'cases' ? 'active' : ''}`}\n            onClick={() => options.variable !== 'cases' && updateOptions({ variable: 'cases' })}\n          >\n            Cases\n          </button>\n          <button\n            className={`variable-option ${options.variable === 'deaths' ? 'active' : ''}`}\n            onClick={() => options.variable !== 'deaths' && updateOptions({ variable: 'deaths' })}\n          >\n            Deaths\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  options: state.options,\n})\nconst mapDispatchToProps = dispatch => ({\n  updateOptions: (options, duration, easing) => dispatch(updateOptions(options)),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(VariableSelection);\n","export const MOVE_TO_DATE = 'MOVE_TO_DATE'\nexport const UPDATE_OPTIONS = 'UPDATE_OPTIONS'\nexport const TOGGLE_PLAY = 'TOGGLE_PLAY'\nexport const CHANGE_PLAYBACK_SPEED = 'CHANGE_PLAYBACK_SPEED'\n\nexport function moveToDate(date) {\n  return {\n    type: MOVE_TO_DATE,\n    date\n  }\n}\n\nexport function updateOptions(options, duration = 1, ease = 'expo.out') {\n  return {\n    type: UPDATE_OPTIONS,\n    options,\n    duration,\n    ease\n  }\n}\n\nexport function togglePlay(to) {\n  return {\n    type: TOGGLE_PLAY,\n    to\n  }\n}\n\nexport function changePlaybackSpeed(speed = 1) {\n  return {\n    type: CHANGE_PLAYBACK_SPEED,\n    speed\n  }\n}\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './Count.css';\n\nclass Count extends Component {\n  render() {\n    const { date, variable, nationalData } = this.props;\n    return (\n      <div className=\"count-wrap\">\n        {nationalData &&\n          nationalData.data &&\n          nationalData.data[date] && (\n          [<h2 className=\"count\" key=\"count\">\n            {nationalData.data[date][nationalData.schemaMapper[variable]].toLocaleString('en-US')}\n          </h2>,\n          <p className=\"count-unit\" key=\"count-unit\">\n            {`total ${variable} nation-wide`}\n          </p>]\n        )}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  date: state.date,\n  variable: state.options.variable,\n})\n\nexport default connect(\n  mapStateToProps,\n  null\n)(Count);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport './DataDescriptions.css';\n\nclass DataDescriptions extends Component {\n  render() {\n    const { variable } = this.props;\n    return (\n      <div className=\"data-descriptions-wrap\">\n        <p className=\"dd-text\">\n          {`Bars represent county-level cumulative ${variable === 'cases' ? 'case' : 'death'} counts, adjusted for population`}\n        </p>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  variable: state.options.variable,\n})\n\nexport default connect(\n  mapStateToProps,\n  null\n)(DataDescriptions);\n","import React, { Component } from 'react';\n\nimport VariableSelection from './variable-selection/VariableSelection';\nimport Count from './count/Count';\nimport DataDescriptions from './data-descriptions/DataDescriptions';\n\nimport './Earth.css';\n\nclass Earth extends Component {\n  render() {\n    const { nationalData } = this.props\n    return (\n      <div className=\"earth\">\n        <div id=\"earth-canvas-wrapper\" />\n        <div className=\"overlap-wrap\">\n          <VariableSelection />\n          <Count nationalData={nationalData} />\n          <DataDescriptions />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Earth;\n","import React, { Component } from 'react';\n\nimport Earth from '../earth/Earth';\n\nimport gsap from 'gsap';\n\nimport './Left.css';\n\nconst svg = {\n  src: {\n    prod: 'https://res.cloudinary.com/vuluongj20/image/upload/v1597470777/chronicle/hero.svg',\n    dev: '/illustrations/hero.svg'\n  },\n  alt: 'Colorful illustration of people wearing masks'\n}\n\nclass Left extends Component {\n  componentDidMount() {\n    gsap.to('.hero-cover-start', {\n      duration: 1.6,\n      ease: 'expo.inOut',\n      scaleX: 0,\n    })\n  }\n  render() {\n    const { nationalData, cylinders, monthArray } = this.props\n    return (\n      <div className=\"left-wrap\">\n        <Earth\n          nationalData={nationalData}\n          cylinders={cylinders}\n          monthArray={monthArray}\n        />\n      <img \n        src={process.env.NODE_ENV === 'development' ? svg.src.dev : svg.src.prod} \n        alt={svg.src.alt}\n        className=\"hero\" \n      />\n        <div className=\"hero-cover-start\" />\n        <div className=\"hero-cover-end\" />\n      </div>\n    );\n  }\n}\n\nexport default Left;\n","import React, { Component } from 'react';\n\nimport gsap from 'gsap';\n\nimport { ReactComponent as TwitterIcon } from '../../../assets/icons/twitter.svg';\nimport { ReactComponent as FacebookIcon } from '../../../assets/icons/facebook.svg';\nimport { ReactComponent as LinkedInIcon } from '../../../assets/icons/linkedin.svg';\nimport { ReactComponent as EmailIcon } from '../../../assets/icons/email.svg';\nimport { ReactComponent as LinkIcon } from '../../../assets/icons/link.svg';\n\nimport './Title.css';\n\nconst url = 'https://chronicle.vuluong.me';\n\nconst content = {\n  head: \"How the coronavirus took hold of the United States\",\n  des: \"A look back at the unprecedented growth of the coronavirus pandemic.\"\n}\n\nclass Title extends Component {\n  constructor(props) {\n    super(props)\n    this.copyMessageRef = React.createRef();\n  }\n\n  copy(url) {\n    const textEl = document.createElement('textarea')\n    textEl.value = url\n    document.body.appendChild(textEl)\n\n    textEl.select()\n    textEl.setSelectionRange(0, 99999)\n    document.execCommand(\"copy\")\n\n    document.body.removeChild(textEl)\n\n    this.copyMessageRef.current.style.opacity = 1\n    setTimeout(() => {\n      this.copyMessageRef.current.style.opacity = 0\n    }, 1000)\n  }\n\n  componentDidMount() {\n    gsap.to('.title-head-word', {\n        duration: 1.4,\n        ease: 'expo.inOut',\n        stagger: 0.04,\n        y: 0\n      }\n    )\n    gsap.to('.title-bar', {\n      duration: 1.4,\n      ease: 'expo.inOut',\n      scaleX: 1\n    })\n    gsap.to(['.title-des', '.share-wrap'], {\n      duration: 1.2,\n      delay: 0.4,\n      ease: 'expo.inOut',\n      stagger: 0.04,\n      opacity: 1\n    })\n  }\n\n  render() {\n    return (\n      <div className=\"title-wrap\">\n        <div className=\"title-bar\" />\n        <h1 className=\"title-head\">\n          {content.head.split(' ').map((word, index) => {\n            return (\n              <span className=\"title-head-word-wrap\" key={index}>\n                <span className=\"title-head-word\">{`${word} `}</span>\n              </span>\n            )\n          })}\n        </h1>\n        <h4 className=\"title-des\">A look back at the unprecedented growth of the coronavirus pandemic.</h4>\n        <div className=\"share-wrap\">\n          <a\n            className=\"share-button\"\n            href={`http://twitter.com/share?url=${url}&text=${content.head}`}\n            tabIndex=\"-1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <TwitterIcon />\n          </a>\n          <a\n            className=\"share-button\"\n            href={`https://www.facebook.com/sharer/sharer.php?u=${url}`}\n            tabIndex=\"-1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <FacebookIcon />\n          </a>\n          <a\n            className=\"share-button\"\n            href={`https://www.linkedin.com/sharing/share-offsite?url=${url}`}\n            tabIndex=\"-1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <LinkedInIcon />\n          </a>\n          <a\n            className=\"share-button\"\n            href={`mailto:?subject=${content.head}&body=${url}`}\n            tabIndex=\"-1\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n          >\n            <EmailIcon />\n          </a>\n          <button\n            className=\"share-button\"\n            onClick={() => this.copy(url)}\n            tabIndex=\"-1\"\n          >\n            <LinkIcon />\n          </button>\n          <span className=\"copy-message\" ref={this.copyMessageRef}>URL copied to clipboard</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Title;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\n\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger'\n\nimport { moveToDate } from '../../../redux/actions'\n\nimport './ScrollTimeline.css';\n\nconst messages = {\n  '2020-01-22': {\n    text: \"A man in Washington State is infected with the newly discovered coronavirus, the first confirmed case in the United States. Federal officials expand screenings at major airports. Life continues as normal for most Americans.\",\n    camera: {\n      l: { x: -48, y: 106, z: 77 },\n      s: { x: -41, y: 91, z: 66 },\n    }\n  },\n  '2020-02-15': {\n    text: \"Total case number has slowly grown to 15. New cases are popping up in the East Coast. Future studies will suggest they came from Europe.\",\n  },\n  '2020-02-29': {\n    text: \"The first death is recorded in the country. There are now 70 confirmed cases in the country.\",\n    camera: {\n      l: { x: 16, y: 85, z: 107 },\n      s: { x: 20, y: 81, z: 102 }\n    }\n  },\n  '2020-03-13': {\n    text: \"President Trump declares a state of emergency. Total cases surpasses 2,000.\",\n    camera: {\n      l: { x: -16, y: 112, z: 140 },\n      s: { x: -16, y: 96, z: 117 }\n    }\n  },\n  '2020-04-02': {\n    text: \"Cases tops 1 million. Nearly 10 million americans are out of work due to the health crisis.\",\n  },\n  '2020-04-17': {\n    text: \"Protests against social distancing restrictions erupt in Michigan, Minnesota and Ohio.\",\n  },\n  '2020-04-29': {\n    text: \"A National Institute of Health trial show that remdesivir, made by Gilead Sciences, can decrease COVID-19 recovery time.\",\n  },\n  '2020-05-27': {\n    text: \"More than 100,000 people have died from the virus.\",\n  },\n  '2020-06-10': {\n    text: \"Total cases reach 2 million.\",\n  },\n  '2020-06-20': {\n    text: \"Southern U.S. states see sharp rise in cases. Florida and South Carolina breaks their single-day record for the third straight day.\",\n  },\n  '2020-07-07': {\n    text: \"The Trump administration sends formal notice of U.S. withdrawal from the W.H.O. Total cases reach 3 million.\",\n  },\n  '2020-07-23': {\n    text: \"Cases reach 4 million. It took 72 days to reach the first million, 69 days to reach the second, 27 to reach the third, and 16 days to reach the fourth.\",\n  },\n  '2020-08-23': {\n    text: \"The U.S. Food and Drug Adminstration (FDA) issues emergency use authorization for convalescent plasma to treat COVID-19.\",\n  },\n  '2020-09-11': {\n    text: \"Despite limited reopening and health precautions, American colleges and universities have reported more than 36,000 coronavirus cases.\",\n  },\n  '2020-10-15': {\n    text: \"The U.S. climbs toward a third peak. Hospitals begin filling up, especially in the Midwest and Mountain West.\"\n  },\n  '2020-11-09': {\n    text: \"The vaccine maker Pfizer announces early testing result showing that its vaccine is more than 90% effective.\",\n  },\n  '2020-12-12': {\n    text: \"The FDA issues emergency authorization for the Pfizer-BioNTech vaccine. Millions of doses are shipped out immediately.\",\n  },\n}\n\nconst content = {\n  loading: \"Loading new data\",\n  scroll: \"Scroll to begin\"\n}\n\nclass ScrollTimeline extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      currentDate: null\n    }\n  }\n  componentDidUpdate(prevProps) {\n    const { date: prevDate, monthArray: prevMonthArray, loading: oldloading } = prevProps\n    const { date, monthArray, loading } = this.props\n    if (!loading && oldloading) {\n      const vh = window.innerHeight/100\n      gsap.to(['.st-current-date-ball', '.st-line-start'], {\n        duration: 1.6,\n        delay: 0.6,\n        ease: 'expo.out',\n        opacity: 1\n      })\n      gsap.to('.st-line', {\n        duration: 0.8,\n        delay: 0.6,\n        ease: 'expo.in',\n        scaleY: 1\n      })\n      gsap.to('.st-current-date-loading-text', {\n          duration: 1.6,\n          delay: 0.6,\n          ease: 'expo.out',\n          y: '-100%'\n        }\n      )\n      gsap.to('.st-current-date-loading-wrap', {\n          duration: 1.6,\n          delay: 0.6,\n          ease: 'expo.out',\n          opacity: 0,\n          onComplete: () => {\n            const loader = document.getElementsByClassName('st-current-date-loading-wrap')[0]\n            loader.parentNode.removeChild(loader)\n          }\n        }\n      )\n      gsap.to('.st-current-date-scroll-text', {\n          duration: 1.6,\n          delay: 0.6,\n          ease: 'expo.out',\n          opacity: 1,\n          y: '-50%',\n          onComplete: () => {\n            ScrollTrigger.create({\n              animation: gsap.timeline()\n                .add(gsap.fromTo('.st-current-date-scroll-text', {opacity: 1}, {opacity: 0}), 0),\n              start: 'top top',\n              end: `top+=${vh*10}px top`,\n              scrub: 0,\n            })\n          }\n        }\n      )\n    }\n    if (monthArray && !prevMonthArray) {\n      this.setState({\n        currentDate: `${monthArray[0].name} ${monthArray[0].days - monthArray[0].daysCounted}`\n      }, () => {\n        // Intersection Observer\n        const optionsL = {\n          rootMargin: '-50% 0% -50% 0%'\n        }\n        const optionsS = {\n          rootMargin: '-75% 0% -25% 0%'\n        }\n        const callback = (entries, observer) => {\n          let currentDate\n          entries.forEach(entry => {\n            if (entry.isIntersecting) {\n              currentDate = entry.target.dataset.date\n            }\n          })\n          if (currentDate) {\n            this.props.moveToDate(currentDate)\n          }\n        }\n        this.observerL = new IntersectionObserver(callback, optionsL)\n        this.observerS = new IntersectionObserver(callback, optionsS)\n        setTimeout(() => {\n          if (window.innerWidth > window.innerHeight) {\n            document.querySelectorAll('.st-date-wrap').forEach(el => this.observerL.observe(el))\n          } else {\n            document.querySelectorAll('.st-date-wrap').forEach(el => this.observerS.observe(el))\n          }\n        }, 2)\n\n        // SCROLL TRIGGER\n        const { camera } = this.props\n        const vh = window.innerHeight/100\n        const createTriggers = (screen, scrollerPos) => {\n          let prevKey;\n          Object.keys(messages).forEach((messageKey, index) => {\n            if (messages[messageKey].camera) {\n              if (index === 0) {\n                ScrollTrigger.create({\n                  trigger: '.scroll-timeline-wrap',\n                  animation: gsap.to(camera.position, {\n                    duration: 1,\n                    x: messages[messageKey].camera[screen].x,\n                    y: messages[messageKey].camera[screen].y,\n                    z: messages[messageKey].camera[screen].z\n                  }),\n                  start: `top-=${vh*5}px ${scrollerPos}`,\n                  endTrigger: `#st-${messageKey}`,\n                  end: `center ${scrollerPos}`,\n                  scrub: 0.2\n                })\n              } else {\n                ScrollTrigger.create({\n                  trigger: `#st-${prevKey}`,\n                  animation: gsap.fromTo(camera.position,\n                    {\n                      x: messages[prevKey].camera[screen].x,\n                      y: messages[prevKey].camera[screen].y,\n                      z: messages[prevKey].camera[screen].z\n                    },\n                    {\n                      duration: 1,\n                      x: messages[messageKey].camera[screen].x,\n                      y: messages[messageKey].camera[screen].y,\n                      z: messages[messageKey].camera[screen].z\n                    }\n                  ),\n                  start: `center+=${vh*5}px ${scrollerPos}`,\n                  endTrigger: `#st-${messageKey}`,\n                  end: `center-=${vh*5}px ${scrollerPos}`,\n                  scrub: 0.2\n                })\n              }\n              prevKey = messageKey\n            }\n          })\n        }\n        setTimeout(() => {\n          ScrollTrigger.matchMedia({\n            \"(min-aspect-ratio: 1/1)\": () => createTriggers('l', 'center'),\n            \"(max-aspect-ratio: 1/1)\": () => createTriggers('s', '75%')\n          })\n        }, 0)\n      })\n    }\n    if (date !== prevDate) {\n      const dateArray = date.split('-').map(el => +el)\n      const month = monthArray.find(month =>\n        month.year === dateArray[0] && month.month === dateArray[1]\n      )\n      this.setState({\n        currentDate: `${month.name} ${dateArray[2]}`\n      })\n    }\n  }\n  componentDidMount() {\n    let resizeTimer\n    const resize = () => {\n      if (window.innerWidth > window.innerHeight) {\n        document.querySelectorAll('.st-date-wrap').forEach(el => {\n          this.observerL.observe(el)\n          this.observerS.unobserve(el)\n        })\n      } else {\n        document.querySelectorAll('.st-date-wrap').forEach(el => {\n          this.observerS.observe(el)\n          this.observerL.unobserve(el)\n        })\n      }\n    }\n    this.resizeListener = () => {\n      clearTimeout(resizeTimer)\n      resizeTimer = setTimeout(resize, 250)\n    }\n    window.addEventListener('resize', this.resizeListener)\n  }\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.resizeListener)\n  }\n  render() {\n    const { monthArray, loading } = this.props\n    const { currentDate } = this.state\n    return (\n      <div className=\"scroll-timeline-wrap\">\n        <div className=\"st-line-wrap\">\n          <div className=\"st-line-start\" />\n          <div className=\"st-line\" />\n        </div>\n        <div className=\"st-current-date-wrap\">\n          <div className=\"st-current-date-ball\" />\n          <div className=\"st-current-date-loading-wrap\">\n            <svg className=\"loading-circle-svg\" width=\"2em\" height=\"2em\">\n              <circle className=\"loading-circle\"/>\n            </svg>\n            <p className=\"st-current-date-loading-text\">{content.loading}</p>\n          </div>\n          <p className=\"st-current-date-scroll-text\">{content.scroll}</p>\n          <div className=\"st-current-date-tag-wrap\">\n            <p className=\"st-current-date-tag\">{currentDate}</p>\n          </div>\n        </div>\n        <div className={`st-top-padding ${loading ? '' : 'full'}`} />\n        <div className=\"st-timeline-content\">\n          {!loading && monthArray && monthArray.map((month, monthIndex) => {\n            return (\n              <div className=\"st-month-wrap\" key={`${month.year}-${month.month}`}>\n                {[...Array(month.daysCounted)].map((_, dateIndex) => {\n                  let date = dateIndex + 1\n                  if (monthIndex === 0) {\n                    date += month.days - month.daysCounted\n                  }\n                  const monthString = month.month > 9 ? month.month : `0${month.month}`\n                  const dateString = date > 9 ? date : `0${date}`\n                  const dateRep = `${month.year}-${monthString}-${dateString}`\n                  return (\n                    <div\n                      key={`${month.year}-${month.month}-${date}`}\n                      data-date={`${month.year}-${monthString}-${dateString}`}\n                      id={`st-${month.year}-${monthString}-${dateString}`}\n                      className=\"st-date-wrap\"\n                    >\n                      {date === 1 && (\n                        <div className=\"st-anchor-wrap\">\n                          <div className=\"st-month-anchor\">{month.name}</div>\n                        </div>\n                      )}\n                      {date === 10 && (\n                        <div className=\"st-anchor-wrap\">\n                          <div className=\"st-date-anchor\">10</div>\n                        </div>\n                      )}\n                      {date === 20 && (\n                        <div className=\"st-anchor-wrap\">\n                          <div className=\"st-date-anchor\">20</div>\n                        </div>\n                      )}\n                      {messages[dateRep] && (\n                        <div className=\"st-message-wrap\">\n                          <div className=\"st-message-line\" />\n                          <div className=\"st-message-content\">\n                            <p className=\"st-message-date\"></p>\n                            <p className=\"st-message\">\n                              <span className=\"st-message-date\">{`${month.name} ${date}. `}</span>\n                              <span className=\"st-message-text\">{messages[dateRep].text}</span>\n                            </p>\n                          </div>\n                        </div>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  date: state.date,\n})\nconst mapDispatchToProps = dispatch => ({\n  moveToDate: (date) => dispatch(moveToDate(date)),\n})\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(ScrollTimeline);\n","import React, { Component } from 'react';\nimport './Footnotes.css';\n\nconst content = [\n  [\n    {\n      type: \"text\",\n      text: \"Made possible with coronavirus data published by \"\n    },\n    {\n      type: \"link\",\n      text: \"the New York Times\",\n      url: \"https://github.com/nytimes/covid-19-data\"\n    },\n    {\n      type: \"text\",\n      text: \", based on reports from state and local health agencies.\"\n    },\n  ],\n  [\n    {\n      type: \"text\",\n      text: \"Designed and developed by \"\n    },\n    {\n      type: \"link\",\n      text: \"Vu Luong\",\n      url: \"https://www.vuluong.me/\"\n    },\n    {\n      type: \"text\",\n      text: \".\"\n    },\n  ],\n  [\n    {\n      type: \"text\",\n      text: \"Illustrations from \"\n    },\n    {\n      type: \"link\",\n      text: \"Aum\",\n      url: \"https://www.rawpixel.com/aum/\"\n    },\n    {\n      type: \"text\",\n      text: \".\"\n    },\n  ]\n]\nclass Footnotes extends Component {\n  render() {\n    return (\n      <div className=\"footnotes-wrap\">\n        <div className=\"ft-inner-wrap\">\n          <div className=\"ft-content\">\n            {content.map((note, index) => {\n              return (\n                <p key={index} className=\"ns-footnote\">\n                  {note.map((span, index) => {\n                    switch (span.type) {\n                      case 'text':\n                        return (\n                          <span key={index}>{span.text}</span>\n                        )\n                      case 'link':\n                        return (\n                          <a\n                            key={index}\n                            href={span.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                          >\n                            {span.text}\n                          </a>\n                        )\n                      default:\n                        return null\n                    }\n                  })}\n                </p>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Footnotes;\n","import React, { Component } from 'react';\n\nimport Title from './title/Title';\nimport ScrollTimeline from './scroll-timeline/ScrollTimeline';\nimport Footnotes from './footnotes/Footnotes';\n\nimport './Right.css';\n\nclass Right extends Component {\n  render() {\n    const { camera, monthArray, loading } = this.props\n    return (\n      <div className=\"right-wrap\" id=\"right-wrap\">\n        <Title />\n        <ScrollTimeline\n          camera={camera}\n          monthArray={monthArray}\n          loading={loading}\n        />\n      {!loading && <Footnotes />}\n      </div>\n    );\n  }\n}\n\nexport default Right;\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nimport { getMonthArray, initializeCanvas } from './utils/init';\n\nimport { gsap } from 'gsap';\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nimport Nav from './components/nav/Nav';\nimport Left from './components/left/Left';\nimport Right from './components/right/Right';\n\nimport './App.css';\n\nconst backendURL = process.env.NODE_ENV === 'development' ? 'http://localhost:8080' : ''\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst styles = {\n  theme: '#D5DD3C',\n  themeOpaque: 'rgba(213, 221, 60, 0.4)',\n  themeDark: '#D0D926',\n  heading: '#242424',\n  body: '#333333',\n  label: '#9B9B9B',\n  background: '#FFFFFF',\n  surface: '#F5F5F5',\n  surfaceHover: '#F1F1F1',\n  surfaceElevated: '#EEEEEE',\n  border: 'rgba(240, 240, 240, 0.8)',\n  line: '#E1E1E1',\n  lineLight: '#EEEEEE',\n  shadow: '0 0 2em 0 rgba(0, 0, 0, 0.05)'\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      countyData: {},\n      nationalData: {},\n      three: {},\n      monthArray: null,\n      loading: true,\n    }\n  }\n\n  componentDidMount() {\n    const transformResponse = (data) => {\n      if (data[0] === \"\\\"\") {\n        return JSON.parse(data.slice(1, -1).replace(/\\\\/g, ''));\n      } else {\n        return JSON.parse(data);\n      }\n    }\n    setTimeout(async () => {\n      // INIT THREE.JS\n      const { options } = this.props\n      const [\n        { data: counties },\n        { data: usTopo },\n        { data: worldTopo },\n        { data: countyData },\n        { data: nationalData },\n      ] = await Promise.all([\n        axios.get(`${backendURL}/api/meta/counties`, { transformResponse }),\n        axios.get(`${backendURL}/api/meta/us`, { transformResponse }),\n        axios.get(`${backendURL}/api/meta/world`, { transformResponse }),\n        axios.get(`${backendURL}/api/data/county`, { transformResponse }),\n        axios.get(`${backendURL}/api/data/national`, { transformResponse }),\n      ])\n      const monthArray = getMonthArray(countyData.range)\n      const {\n        camera,\n        orbitControls,\n        cylinderMesh,\n        baseCaseGeometries,\n        baseDeathGeometries,\n        renderer\n      } = initializeCanvas(counties, usTopo, worldTopo, countyData, monthArray, options, this.updateLegend)\n      document.getElementById('earth-canvas-wrapper').append(renderer.domElement)\n      this.setState({\n        countyData,\n        nationalData,\n        three: {\n          camera,\n          orbitControls,\n          cylinderMesh,\n          baseCaseGeometries,\n          baseDeathGeometries,\n          renderer\n        },\n        monthArray,\n        fontSize: +window\n          .getComputedStyle(document.body, null)\n          .getPropertyValue('font-size')\n          .replace('px', '')\n      })\n\n      this.baseGeometries = baseCaseGeometries\n\n\n      // SCROLLTRIGGER\n      const vh = window.innerHeight/100\n      const createTriggers = (scrollerTopPos, scrollerCenterPos) => {\n        ScrollTrigger.create({\n          id: 'earth-in',\n          animation: gsap.timeline()\n            .add(gsap.to('.hero', {duration: 0.4, scale: 1.4, opacity: 0}), 0)\n            .add(gsap.to('.earth', {duration: 1.6, scale: 1, opacity: 1}), 0.4),\n          trigger: '.title-wrap',\n          pin: false,\n          start: `top ${scrollerTopPos}`,\n          endTrigger: '.st-timeline-content',\n          end: `top ${scrollerCenterPos}`,\n          scrub: 0.2\n        })\n        ScrollTrigger.create({\n          id: 'current-date-tag-in',\n          animation: gsap.timeline()\n            .add(gsap.to(\n              ['.st-current-date-tag-wrap', '.count-wrap', '.data-descriptions-wrap'],\n              { duration: 1, opacity: 1 }\n            )),\n          trigger: '.st-timeline-content',\n          pin: false,\n          start: `top-=${vh*5}px ${scrollerCenterPos}`,\n          end: `top ${scrollerCenterPos}`,\n          scrub: 0.2\n        })\n\n        const createCylinderTriggers = (scrollerPos) => {\n          this.baseGeometries.forEach((geometry, index) => {\n            if (index !== this.baseGeometries.length - 1) {\n              ScrollTrigger.create({\n                trigger: `#st-${geometry.key}`,\n                animation: gsap.to(cylinderMesh.morphTargetInfluences, {\n                  duration: 1,\n                  0: 1,\n                }),\n                start: `end ${scrollerPos}`,\n                endTrigger: `#st-${this.baseGeometries[index + 1].key}`,\n                end: `end ${scrollerPos}`,\n                scrub: 0.2,\n                onLeave: () => {\n                  if (index < this.baseGeometries.length - 2) {\n                    cylinderMesh.geometry.dispose()\n                    cylinderMesh.geometry = this.baseGeometries[index + 1]\n                  }\n                },\n                onEnterBack: () => {\n                  if (index < this.baseGeometries.length - 2) {\n                    cylinderMesh.geometry.dispose()\n                    cylinderMesh.geometry = this.baseGeometries[index]\n                    cylinderMesh.morphTargetInfluences[0] = 1\n                  }\n                }\n              })\n            }\n          })\n        }\n\n        setTimeout(() => createCylinderTriggers('center'), 100)\n      }\n      ScrollTrigger.matchMedia({\n        \"(min-aspect-ratio: 1/1)\": () => createTriggers('top', 'center'),\n        \"(max-aspect-ratio: 1/1)\": () => createTriggers('center', '75%'),\n      })\n\n\n      // RESIZE EVENT LISTENER\n      let resizeTimer\n      const resize = () => {\n        const wrapperBBox = document.getElementById('earth-canvas-wrapper').getBoundingClientRect()\n        renderer.setSize(wrapperBBox.width, wrapperBBox.height)\n        camera.aspect = wrapperBBox.width/wrapperBBox.height\n        camera.updateProjectionMatrix()\n      }\n      window.onresize = () => {\n        clearTimeout(resizeTimer)\n        resizeTimer = setTimeout(resize, 250)\n      }\n      window.scrollTo(0, 0)\n      this.setState({ loading: false })\n    }, 2000)\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      variable: oldVariable,\n      normalize: oldNormalize,\n      logScale: oldLogScale\n    } = prevProps.options\n    const { playbackSpeed: oldPlaybackSpeed } = prevProps\n    const {\n      variable,\n      normalize,\n      logScale\n    } = this.props.options\n    const { playbackSpeed } = this.props\n    if (\n      oldVariable !== variable\n      || oldNormalize !== normalize\n      || oldLogScale !== logScale\n      || oldPlaybackSpeed !== playbackSpeed\n    ) {\n      const {\n        cylinderMesh,\n        baseCaseGeometries,\n        baseDeathGeometries\n      } = this.state.three\n      const cylinderIndex = cylinderMesh.geometry.ind\n      cylinderMesh.geometry.dispose()\n      if (variable === 'cases') {\n        this.baseGeometries = baseCaseGeometries\n        cylinderMesh.geometry = baseCaseGeometries[cylinderIndex]\n        cylinderMesh.material.color.set('#D5DD3C')\n      } else if (variable === 'deaths') {\n        this.baseGeometries = baseDeathGeometries\n        cylinderMesh.geometry = baseDeathGeometries[cylinderIndex]\n        cylinderMesh.material.color.set('#DD3CD5')\n      }\n    }\n  }\n  render() {\n    const globalStyles = {\n      '--theme': styles.theme,\n      '--theme-opaque': styles.themeOpaque,\n      '--theme-dark': styles.themeDark,\n      '--heading': styles.heading,\n      '--body': styles.body,\n      '--label': styles.label,\n      '--background': styles.background,\n      '--surface': styles.surface,\n      '--surface-hover': styles.surfaceHover,\n      '--surface-elevated': styles.surfaceElevated,\n      '--border': styles.border,\n      '--line': styles.line,\n      '--line-light': styles.lineLight,\n      '--shadow': styles.shadow\n    }\n    const {\n      nationalData,\n      three,\n      monthArray,\n      loading\n    } = this.state\n    return (\n      <div id=\"App\" style={globalStyles}>\n        <Nav />\n        <div className=\"main-content\">\n          <Left\n            loading={loading}\n            nationalData={nationalData}\n            cylinders={three.cylinders}\n            monthArray={monthArray}\n          />\n          <Right\n            camera={three.camera}\n            loading={loading}\n            monthArray={monthArray}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  options: state.options\n})\n\nexport default connect(\n  mapStateToProps,\n  null\n)(App);\n","import { combineReducers } from 'redux';\nimport * as actions from './actions';\n\nconst initialOptions = {\n  variable: 'cases',\n  normalize: true,\n  logScale: false,\n  duration: 0,\n  easing: 'expo.out'\n}\nconst initialPlayback = {\n  playing: false,\n  speed: 1\n}\nconst initialDate = '2020-05-16'\n\nfunction date(state = initialDate, action) {\n  if (action.type === actions.MOVE_TO_DATE) {\n    return action.date\n  } else {\n    return state\n  }\n}\nfunction options(state = initialOptions, action) {\n  switch (action.type) {\n    case actions.UPDATE_OPTIONS:\n      return {\n        ...state,\n        ...action.options,\n        duration: action.duration,\n        ease: action.ease\n      }\n    default:\n      return state\n  }\n}\nfunction playback(state = initialPlayback, action) {\n  switch (action.type) {\n    case actions.TOGGLE_PLAY:\n      return {\n        ...state,\n        playing: action.to !== undefined ? action.to : !state.playing\n      }\n    case actions.CHANGE_PLAYBACK_SPEED:\n      return {\n        ...state,\n        speed: action.speed\n      }\n    default:\n      return state\n  }\n}\n\nconst app = combineReducers({\n  date,\n  options,\n  playback\n})\n\nexport default app;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux'\n\nimport reducer from './redux/reducer';\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}